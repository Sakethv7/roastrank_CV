<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoastRank</title>
    <link rel="stylesheet" href="/static/styles.css">

    <style>
        body {
            background:black;
            color:white;
            font-family: 'Orbitron', sans-serif;
            text-align:center;
            padding:40px;
        }

        h1 {
            font-size: 60px;
            margin-bottom:20px;
            text-shadow: 0 0 25px red;
        }

        .upload-box {
            margin-top:40px;
            padding:20px;
        }

        .mode-toggle-container {
            margin-top:30px;
            display:flex;
            justify-content:center;
            gap:20px;
        }

        .toggle-btn {
            padding:15px 25px;
            border-radius:12px;
            font-size:18px;
            cursor:pointer;
            border:2px solid #ff0055;
            background:#111;
            color:white;
            transition:0.3s;
        }

        .toggle-btn.selected {
            background:#ff0055;
            color:black;
            box-shadow:0 0 15px #ff0055;
        }

        .warning {
            margin-top:15px;
            color:#ffcc33;
            font-size:14px;
        }

        /* LOADING OVERLAY */
        #loadingOverlay {
            position: fixed;
            top: 0; left: 0;
            width:100vw;
            height:100vh;
            background: rgba(0,0,0,0.85);
            display:none;
            align-items:center;
            justify-content:center;
            flex-direction:column;
            z-index:9999;
        }

        .spinner {
            border: 8px solid #333;
            border-top: 8px solid #ff0055;
            border-radius:50%;
            width:80px;
            height:80px;
            animation:spin 1s linear infinite;
            margin-bottom:25px;
        }

        @keyframes spin {
            0% {transform:rotate(0deg);}
            100% {transform:rotate(360deg);}
        }
    </style>

    <script>
        function selectMode(mode) {
            document.getElementById("mode").value = mode;

            // Toggle UI
            document.getElementById("quickBtn").classList.remove("selected");
            document.getElementById("fullBtn").classList.remove("selected");

            if (mode === "quick") {
                document.getElementById("quickBtn").classList.add("selected");
            } else {
                document.getElementById("fullBtn").classList.add("selected");
            }
        }

        function showLoader() {
            document.getElementById("loadingOverlay").style.display = "flex";
        }
    </script>
</head>

<body>

    <h1>ðŸ”¥ ROASTRANK</h1>

    <form action="/upload" method="post" enctype="multipart/form-data" onsubmit="showLoader()">

        <div class="upload-box">
            <input type="file" name="file" required style="font-size:18px;">
        </div>

        <div class="mode-toggle-container">
            <button type="button" id="quickBtn" class="toggle-btn selected"
                    onclick="selectMode('quick')">âš¡ QUICK ROAST</button>

            <button type="button" id="fullBtn" class="toggle-btn"
                    onclick="selectMode('full')">ðŸ”¥ FULL ROAST</button>
        </div>

        <div class="warning">(Full roast takes ~1â€“2 seconds longer)</div>

        <input type="hidden" name="mode" id="mode" value="quick">

        <div style="margin-top:30px;">
            <button type="submit"
                    style="padding:18px 40px;font-size:24px;border-radius:14px;background:red;color:white;cursor:pointer;">
                UPLOAD & ROAST
            </button>
        </div>
    </form>

    <!-- LOADING OVERLAY -->
    <div id="loadingOverlay">
        <div class="spinner"></div>
        <div style="font-size:22px;">Cooking your roastâ€¦ ðŸ”¥</div>
    </div>

</body>
</html>
